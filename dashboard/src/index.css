@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap');

:root {
    /* Marin Theme: Dark but soft, heavy on Pink/Purple gradients */
    --bg-primary: #0f0518;
    /* Deep Purple Black */
    --bg-secondary: #1a0b2e;
    /* Lighter Purple Dark */

    --text-primary: #fce7f3;
    /* Soft Pink White */
    --text-secondary: #d8b4fe;
    /* Lavender */

    --accent-gradient: linear-gradient(135deg, #f472b6 0%, #a855f7 100%);
    /* Pink to Purple */
    --accent-color: #d946ef;
    /* Fuchsia */

    --modal-overlay: rgba(15, 5, 24, 0.85);
    --radius: 12px;
    --radius-lg: 16px;
    --radius-full: 9999px;

    --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-family: 'Outfit', sans-serif;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
    /* Prevent horizontal scroll */
    width: 100%;
}

.app-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    width: 100%;
    overflow-x: hidden;
    /* Double protect */
}

/* Navbar */
.navbar {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(15, 5, 24, 0.85);
    /* Slightly more opaque */
    backdrop-filter: blur(16px);
    padding: 0.8rem 3rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    /* Fix spacing */
    height: 70px;
    border-bottom: 1px solid rgba(244, 114, 182, 0.1);
}

.brand {
    font-size: 1.8rem;
    font-weight: 800;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 1px;
    cursor: pointer;
    font-family: 'Outfit', sans-serif;
}

.nav-links {
    display: flex;
    gap: 2rem;
    font-size: 0.95rem;
    font-weight: 500;
}

.nav-link {
    color: var(--text-primary);
    cursor: pointer;
    opacity: 0.7;
    transition: all 0.2s;
}

.nav-link:hover,
.nav-link.active {
    opacity: 1;
    text-shadow: 0 0 10px rgba(217, 70, 239, 0.5);
}

/* Filter Bar - UPDATED */
.filter-bar {
    padding: 1rem 3rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    background: rgba(0, 0, 0, 0.2);
    /* Slight separator */
}

.search-wrapper {
    position: relative;
    background: var(--bg-secondary);
    border: 1px solid rgba(216, 180, 254, 0.2);
    padding: 0.6rem 1rem;
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    gap: 0.8rem;
    width: 100%;
    max-width: 400px;
    transition: all 0.3s;
}

.search-input {
    background: transparent;
    border: none;
    color: white;
    outline: none;
    width: 100%;
    font-size: 0.95rem;
}

.filter-group {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.filter-label {
    font-size: 0.8rem;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.4);
    letter-spacing: 1px;
    min-width: 80px;
}

.filter-scroll {
    display: flex;
    gap: 0.6rem;
    overflow-x: auto;
    padding-bottom: 4px;
    scrollbar-width: none;
}

.filter-scroll::-webkit-scrollbar {
    display: none;
}


.filter-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    padding: 0.3rem 0.9rem;
    font-size: 0.8rem;
    cursor: pointer;
    border-radius: var(--radius-full);
    transition: all 0.2s;
    white-space: nowrap;
}

.filter-btn:hover {
    background: rgba(217, 70, 239, 0.1);
    border-color: rgba(217, 70, 239, 0.3);
    color: white;
}

.filter-btn.active {
    background: var(--accent-gradient);
    color: white;
    border: 1px solid transparent;
    font-weight: 500;
}

/* Main Content */
.main-content {
    padding: 1rem 3rem 4rem 3rem;
    flex: 1;
}

.section-wrapper {
    margin-bottom: 2.5rem;
    animation: slideUp 0.5s ease-out;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.section-header {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    margin-bottom: 1rem;
}

.section-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: white;
    margin: 0;
}

/* Places Row */
.places-row {
    display: flex;
    gap: 1.2rem;
    overflow-x: auto;
    padding-bottom: 1.5rem;
    /* Default scrollbar hidden via class, but keep structure */
    padding-right: 2rem;
    scroll-behavior: smooth;
    /* Buffer for last item label */
}

.places-row.hidden-scrollbar {
    scrollbar-width: none;
    /* Firefox */
    -ms-overflow-style: none;
    /* IE/Edge */
}

.places-row.hidden-scrollbar::-webkit-scrollbar {
    display: none;
    /* Chrome/Safari */
}

/* Carousel Container */
.carousel-container {
    position: relative;
    /* Ensure buttons are positioned relative to this */
}

.carousel-btn {
    position: absolute;
    top: 50%;
    /* Center vertically relative to container height */
    transform: translateY(-80%);
    /* Fine-tune centering (accounting for card height vs container) */
    z-index: 10;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: white;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    opacity: 0;
    /* Hidden by default, shown on hover of container */
}

.carousel-container:hover .carousel-btn {
    opacity: 1;
}

.carousel-btn:hover {
    background: var(--accent-color);
    transform: translateY(-80%) scale(1.1);
}

.carousel-btn.left {
    left: -20px;
}

.carousel-btn.right {
    right: -20px;
}

/* Mobile: Always show buttons or just rely on touch scroll, but standard carousel usually hides buttons on mobile or makes them static. 
   For now, let's keep them hidden on touch devices or fine tune later. 
*/
@media (max-width: 768px) {
    .carousel-btn {
        display: none;
        /* Use touch scroll on mobile */
    }

    .carousel-btn.left,
    .carousel-btn.right {
        display: none;
    }
}

/* Grid Layout for Search Results */
.places-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    align-items: flex-start;
}

/* Card Styling - FIXED SIZING */
.places-grid .place-card {
    flex: 0 0 250px;
    width: 250px;
    margin-bottom: 1rem;
}

.place-card {
    flex: 0 0 250px;
    /* STRICT WIDTH */
    width: 250px;
    max-width: 100%;
    /* Prevent overflow on very narrow screens */
    background: transparent;
    cursor: pointer;
    transition: transform 0.3s ease;
    display: flex;
    flex-direction: column;
}

.place-card:hover {
    transform: translateY(-5px);
}

.card-media {
    border-radius: var(--radius);
    overflow: hidden;
    position: relative;
    aspect-ratio: 16/10;
    width: 100%;
    margin-bottom: 0.6rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

.card-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s;
}

.place-card:hover .card-img {
    transform: scale(1.05);
}

.card-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-secondary);
    color: var(--text-secondary);
    font-size: 2rem;
    font-weight: 700;
}

.card-rating-badge {
    position: absolute;
    top: 8px;
    right: 8px;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    padding: 3px 6px;
    border-radius: 6px;
    color: #ffd700;
    font-weight: 600;
    font-size: 0.75rem;
    display: flex;
    align-items: center;
    gap: 3px;
}

.card-content {
    /* Ensure content takes available space but respects limits */
    min-height: 80px;
    /* Enforce minimum height to align rows better */
}

.card-title {
    margin: 0 0 0.25rem 0;
    font-size: 1.05rem;
    font-weight: 600;
    color: #fff;
    /* Truncation Logic */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.card-subtitle {
    font-size: 0.8rem;
    color: var(--text-secondary);
    /* Truncate address to 1 line */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 0.5rem;
    opacity: 0.8;
}

.card-tags {
    display: flex;
    gap: 0.4rem;
    flex-wrap: wrap;
    height: 24px;
    /* Fixed height for 1 row of tags */
    overflow: hidden;
}

.tag-soft {
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 4px;
    background: rgba(244, 114, 182, 0.1);
    color: #f9a8d4;
    font-weight: 500;
    white-space: nowrap;
}

/* Modal */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: var(--modal-overlay);
    backdrop-filter: blur(10px);
    z-index: 200;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: fadeIn 0.2s ease-out;
}

.modal-content {
    background: #1e1b2e;
    width: 900px;
    max-width: 96vw;
    height: 90vh;
    border-radius: 24px;
    box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.6);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    position: relative;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.modal-close {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    background: rgba(0, 0, 0, 0.4);
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 50;
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.modal-hero {
    height: 45%;
    position: relative;
    flex-shrink: 0;
}

.modal-hero img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.hero-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, #1e1b2e 10%, transparent 80%);
}

.hero-info {
    position: absolute;
    bottom: 2rem;
    left: 2.5rem;
    right: 2.5rem;
}

.hero-title {
    font-size: 3rem;
    font-weight: 800;
    margin: 0 0 0.5rem 0;
    background: linear-gradient(to right, #fff 60%, #fbcfe8 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.hero-actions {
    display: flex;
    gap: 1rem;
    margin-top: 1.5rem;
}

.btn-primary {
    background: white;
    color: black;
    padding: 0.7rem 1.8rem;
    border-radius: var(--radius-full);
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.6rem;
    text-decoration: none;
    transition: transform 0.2s;
    font-size: 0.95rem;
}

.btn-primary:hover {
    transform: scale(1.05);
}

.modal-body {
    padding: 1.5rem 2.5rem 2.5rem 2.5rem;
    overflow-y: auto;
    display: flex;
    gap: 2.5rem;
    flex: 1;
    /* Ensure it takes up remaining space */
}

.col-main {
    flex: 2;
}

.col-side {
    flex: 1;
    min-width: 250px;
}

.marin-box {
    background: linear-gradient(135deg, rgba(232, 121, 249, 0.1), rgba(168, 85, 247, 0.1));
    border: 1px solid rgba(232, 121, 249, 0.2);
    padding: 1.5rem;
    border-radius: 16px;
    margin-bottom: 2rem;
    position: relative;
}

.marin-label {
    position: absolute;
    top: -10px;
    left: 1rem;
    background: var(--accent-gradient);
    padding: 2px 10px;
    border-radius: 8px;
    font-size: 0.7rem;
    font-weight: 700;
    color: white;
    letter-spacing: 0.5px;
}

.marin-text {
    font-size: 1.05rem;
    font-style: italic;
    line-height: 1.6;
    color: #f5d0fe;
}

.detail-row {
    margin-bottom: 1.2rem;
}

.detail-label {
    color: #94a3b8;
    font-size: 0.8rem;
    margin-bottom: 0.4rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 600;
}

.detail-value {
    color: white;
    font-size: 0.95rem;
    line-height: 1.4;
    padding-bottom: 1rem;
}

.pill-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.pill {
    background: #334155;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 0.8rem;
}

/* Responsive */
@media (max-width: 768px) {
    .navbar {
        padding: 0.8rem 1.5rem;
    }

    .filter-bar {
        padding: 1rem 1.5rem;
    }

    .main-content {
        padding: 1rem 1.5rem;
    }

    .filter-group {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }

    .filter-label {
        min-width: auto;
    }

    .modal-content {
        height: 100dvh;
        /* Dynamic viewport height */
        max-height: -webkit-fill-available;
        /* Fallback for iOS */
        width: 100%;
        border-radius: 0;
    }

    .modal-body {
        flex-direction: column;
        padding: 1.5rem;
        padding-bottom: 2rem;
        /* Scroll space handled by column margins */
    }

    .hero-title {
        font-size: 2rem;
    }
}

/* Nav Split */
.nav-left {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

.brand-subtitle {
    font-size: 0.6em;
    color: #d8b4fe;
    margin-left: 0.5rem;
}

.nav-right {
    display: flex;
    align-items: center;
}

.bmc-button {
    background: #ffdd00;
    color: #000;
    padding: 0.5rem 1rem;
    border-radius: 99px;
    font-weight: 600;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    text-decoration: none;
    transition: transform 0.2s;
    border: 2px solid transparent;
}

.bmc-button:hover {
    transform: scale(1.05);
    background: #ffee00;
}

/* Footer style */
.footer {
    border-top: 1px solid rgba(244, 114, 182, 0.1);
    background: rgba(15, 5, 24, 0.85);
    padding: 3rem 0;
    margin-top: auto;
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    text-align: center;
}

.footer-brand {
    font-family: 'Outfit', sans-serif;
    font-weight: 800;
    font-size: 1.5rem;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.footer-links {
    display: flex;
    gap: 2rem;
}

.footer-links a {
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}

.footer-links a:hover {
    color: white;
}

.footer-text {
    color: var(--text-secondary);
    font-size: 0.9rem;
    display: flex;
    align-items: center;
}

.footer-copyright {
    color: rgba(255, 255, 255, 0.3);
    font-size: 0.8rem;
}

/* Mobile Navbar Adjustments */
@media (max-width: 768px) {
    .navbar {
        padding: 0.5rem 1rem !important;
    }

    .brand {
        font-size: 1.4rem;
    }

    .brand-subtitle {
        display: none;
    }

    .nav-left {
        gap: 1.5rem;
    }

    /* Compact BMC Button on Mobile */
    .bmc-button {
        font-size: 0 !important;
        padding: 0.5rem !important;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        justify-content: center;
    }

    .bmc-button svg {
        width: 18px;
        height: 18px;
    }

    .nav-links {
        gap: 1rem;
    }

    /* Edge-to-Edge Scrolling for Filters */
    /* Safe Scrolling for Filters */
    .filter-scroll {
        margin-left: 0;
        margin-right: 0;
        padding-left: 0;
        padding-right: 0;
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    /* Fix Modal Close Button Clipping */
    .modal-close {
        top: 1.5rem !important;
        /* Safer distance */
        right: 1.5rem !important;
        z-index: 999;
        /* Ensure on top */
        background: rgba(0, 0, 0, 0.6);
        /* More visible */
        width: 40px;
        /* Larger touch target */
        height: 40px;
    }
}